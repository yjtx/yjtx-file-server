{"version":3,"sources":["core/ParamsAnalyze.ts"],"names":["getArgv","getOption","getParserRoot","escapePath"],"mappings":"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","file":"core/ParamsAnalyze.js","sourcesContent":["/**\n * Created by yjtx on 16/2/3.\n */\nvar argv;\nexport function getArgv() {\n    if(argv) {\n        return argv;\n    }\n    var arr = process.argv.slice(2);\n    var args = [];\n    var i = 0, li = arr.length;\n    for (; i < li; i++) {\n        var itemi = arr[i];\n        if (itemi.search(/-(\\w*)/) == 0) break;\n        args.push(itemi);\n    }\n\n    var opts = {};\n    var values4Opt = [];\n    var name = null;\n    for (; i < li; i++) {\n        var itemi = arr[i];\n        if (itemi.search(/-(\\w*)/) == 0) {\n            if (!name) name = itemi;\n            else {\n                opts[name] = values4Opt;\n                name = itemi;\n                values4Opt = [];\n            }\n        } else {\n            values4Opt.push(itemi);\n        }\n    }\n\n    if (name) opts[name] = values4Opt;\n\n    argv = {\n        name: arr[0],\n        currDir: process.cwd(),\n        args: args,\n        opts: opts\n    };\n\n    return argv;\n}\n\nexport function getOption(type) {\n    if (getArgv()[\"opts\"][type]) {\n        return getArgv()[\"opts\"][type][0];\n    }\n    return null;\n}\n\nimport path_lib = require(\"path\");\n\nexport function getParserRoot() {\n    var path = escapePath(process[\"mainModule\"]['filename']);\n    return process.env.YJTX_SERVER_PATH || path_lib.dirname(path)+\"/\";\n}\n\nfunction escapePath(path) {\n    if (!path)\n        return \"\";\n    return path.split(\"\\\\\").join(\"/\");\n}"],"sourceRoot":"/source/"}